<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_6.1.xsd">

  <grid title="Registration" name="registration-grid"
    model="com.axelor.apps.svh.db.Registration">
    <field name="uId"/>
    <field name="createdOn" title="Create On"/>
    <field name="transport_type" widget="singleSelect"/>
    <field name="plate_no"/>
    <field name="plate_no_trailer"/>
    <field name="serial_number"/>
    <field name="vin_code"/>
    <field name="weight"/>
    <field name="calculated_amount"/>
  </grid>

  <form title="Registration Form" name="registration-form" width="large"
    onSave="registration.setCreateOn" model="com.axelor.apps.svh.db.Registration">
    <panel name="registrationOverviewPanel" title="OverviewPanel">
      <field name="uId" readonly="true" colSpan="2"/>
      <field name="transport_type" widget="singleSelect"
        selection="svh.registration.transport_types_selections"/>
    </panel>

    <panel name="companyCar" title="Company Car" showIf="transport_type == 'company_car'">
      <field name="plate_no"/>
    </panel>

    <panel name="passengerTransport" title="Passenger Transport"
      showIf="transport_type == 'passenger_transport'">
      <field name="vin_code"/>
    </panel>

    <panel name="specialEquipment" title="Special Equipment"
      showIf="transport_type == 'special_equipment'">
      <field name="serial_number"/>
      <field name="plate_no"/>
      <field name="plate_no_trailer"/>
    </panel>

    <panel name="carCarrier" title="Car Carrier" showIf="transport_type == 'car_carrier'">
      <field name="plate_no"/>
      <field name="plate_no_trailer"/>
    </panel>

    <panel name="freightTransport" title="Freight Transport"
      showIf="transport_type == 'freight_transport'">
      <field name="plate_no_trailer"/>
      <field name="weight"/>
    </panel>

    <panel name="CalculatePanel" title="Calculate Panel"
      showIf="transport_type != 'company_car'">
      <field name="calculated_amount"/>
      <button name="Calculate" title="Calculate" onClick="registration.calculate"/>
    </panel>

    <panel-mail>
      <mail-messages/>
    </panel-mail>
  </form>


  <action-method name="registration.calculate">
    <call class="com.axelor.apps.svh.web.RegistrationController" method="calculate"/>
  </action-method>

  <action-method name="registration.setCreateOn">
    <call class="com.axelor.apps.svh.web.RegistrationController" method="setCurrentDate"/>
  </action-method>

</object-views>